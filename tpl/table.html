<script src="js/button_over.js"></script>
<script src="js/outlierhints.js"></script>
<h1>{title}[[table_view]]</h1>
<div id="navi_left">
	<div>
		<a href="index.php?s=diagram&amp;fid={feedId}&amp;timeframe={time}&amp;interpolateoutliers={interpolateOutliers}&amp;sensitivity={sensitivity}&amp;lang={language}" onclick="loading();"><img src="img/diagram.png" width="50" height="50" alt="[[diagram_view]]" id="diagram_button" onmouseover="buttonOver('diagram_button', 'diagram_hover');" onmouseout="buttonOver('diagram_button', 'diagram');"></a>
		<a href="#"><img src="img/table.png" width="50" height="50" alt="[[table_view]]" class="active" id="table_button" onmouseover="buttonOver('table_button', 'table_hover');" onmouseout="buttonOver('table_button', 'table');"></a>
        <a href="index.php?s=download&amp;fid={feedId}&amp;timeframe={time}&amp;interpolateoutliers={interpolateOutliers}&amp;sensitivity={sensitivity}&amp;lang={language}" onclick="loading();"><img src="img/download.png" width="50" height="50" alt="[[data_download]]" class="last" id="download_button" onmouseover="buttonOver('download_button', 'download_hover');" onmouseout="buttonOver('download_button', 'download');"></a>
	</div>
	<div>
        <a href="index.php?s=map&amp;fid={feedId}&amp;lang={language}" onclick="loading();"><img src="img/map_small.png" width="50" height="50" alt="[[map]]" class="last" id="map_button" onmouseover="buttonOver('map_button', 'map_small_hover');" onmouseout="buttonOver('map_button', 'map_small');"></a>
	</div>
</div>
<div id="time_picker">
	<div{6h_active}><a href="index.php?s=table&amp;fid={feedId}&amp;timeframe=6h&amp;interpolateoutliers={interpolateOutliers}&amp;sensitivity={sensitivity}&amp;lang={language}" onclick="loading();">[[6_hours]]</a></div>
	<div{24h_active}><a href="index.php?s=table&amp;fid={feedId}&amp;timeframe=24h&amp;interpolateoutliers={interpolateOutliers}&amp;sensitivity={sensitivity}&amp;lang={language}" onclick="loading();">[[24_hours]]</a></div>
	<div{48h_active}><a href="index.php?s=table&amp;fid={feedId}&amp;timeframe=48h&amp;interpolateoutliers={interpolateOutliers}&amp;sensitivity={sensitivity}&amp;lang={language}" onclick="loading();">[[48_hours]]</a></div>
	<div{1w_active}><a href="index.php?s=table&amp;fid={feedId}&amp;timeframe=1w&amp;interpolateoutliers={interpolateOutliers}&amp;sensitivity={sensitivity}&amp;lang={language}" onclick="loading();">[[one_week]]</a></div>
	<div{1m_active}><a href="index.php?s=table&amp;fid={feedId}&amp;timeframe=1m&amp;interpolateoutliers={interpolateOutliers}&amp;sensitivity={sensitivity}&amp;lang={language}" onclick="loading();">[[one_month]]</a></div>
	<div{3m_active}><a href="index.php?s=table&amp;fid={feedId}&amp;timeframe=3m&amp;interpolateoutliers={interpolateOutliers}&amp;sensitivity={sensitivity}&amp;lang={language}" onclick="loading();">[[3_month]]</a></div>
</div>
<div id="data_content">
	<div{hidden}>
		<div class="details">
			<h4>[[description]]</h4>
			<p>{description}</p>
			<div class="left">
				<h4>[[pos_and_ele]]</h4>
				<table class="metadata">
					<tr>
						<td>[[location_name]]:</td>
						<td>{locationName}</td>
					</tr>
					<tr>
						<td>[[latitude]]:</td>
						<td>{lat}</td>
					</tr>
					<tr>
						<td>[[longitude]]:</td>
						<td>{lon}</td>
					</tr>
					<tr>
						<td>[[ele]]:</td>
						<td>{ele}</td>
					</tr>
				</table>
			</div>
			<h4>[[more_info]]</h4>
			<table class="metadata">
				<tr>
					<td>[[feed_id]]:</td>
					<td><a href="https://cosm.com/feeds/{feedId}" target="_blank">{feedId}</a></td>
				</tr>
				<tr>
					<td>[[website]]:</td>
					<td><a href="http://airqualityegg.com/egg/{feedId}" target="_blank">[[aqe]]</a></td>
				</tr>
				<tr>
					<td>[[state]]:</td>
					<td>{status}</td>
				</tr>
				<tr>
					<td>[[exposure]]:</td>
					<td>{exposure}</td>
				</tr>
			</table>
            <br>
		</div><br>
        <script src="js/radio_switch.js"></script>
        <div class="details">
            <h4>[[outlier_detection]]</h4>
            {outliers}
            <form action="index.php" method="get" onsubmit="loading();">
                <input type="hidden" name="s" value="table">
                <input type="hidden" name="fid" value="{feedId}">
                <input type="hidden" name="timeframe" value="{time}">
                <input type="hidden" name="lang" value="{language}">
                <table class="outliers">
                    <tr>
                        <td>[[sensitivity]]:</td>
                        <td class="center">
                            <select name="sensitivity">
                                <option value="0"{sensitivity_0_selected}>[[no_outlier_detection]]</option>
                                <option value="1"{sensitivity_1_selected}>[[low]]</option>
                                <option value="2"{sensitivity_2_selected}>[[medium]]</option>
                                <option value="3"{sensitivity_3_selected}>[[high]]</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>[[outlier_interpolation]]:</td>
                        <td class="center">
                            <input type="radio" name="interpolateoutliers" id="io" value="true"{io_checked} class="radio pointer"><span onclick="radioSwitch('io');" class="pointer"> [[on]]</span>
                            <input type="radio" name="interpolateoutliers" id="dio" value="false"{dio_checked} class="radio pointer"><span onclick="radioSwitch('dio');" class="pointer"> [[off]]</span>
                        </td>
                    </tr>
                    <tr>
                        <td></td>
                        <td class="center"><input type="submit" value="[[submit_settings]]" class="form_button outlier" onclick="loading();"></td>
                    </tr>
                </table>
            </form>
        </div>
        <table>
		    <tr>
			    <th>[[value]] ([[{time}]])</th>
			    <th>[[co]] (ppm)</th>
			    <th>[[no2]] (ppm)</th>
			    <th>[[temperature]] (&deg;C)</th>
			    <th>[[humidity]] (%)</th>
		    </tr>
            <tr>
                <td>[[current]]:</td>
			    <td>{co_current}</td>
			    <td>{no2_current}</td>
			    <td>{temperature_current}</td>
			    <td>{humidity_current}</td>
            </tr>
            <tr>
                <td>[[mean]]:</td>
			    <td>{co_mean}</td>
			    <td>{no2_mean}</td>
			    <td>{temperature_mean}</td>
			    <td>{humidity_mean}</td>
            </tr>
            <tr>
                <td>[[maximum]]:</td>
			    <td>{co_maximum}</td>
			    <td>{no2_maximum}</td>
			    <td>{temperature_maximum}</td>
			    <td>{humidity_maximum}</td>
            </tr>
            <tr>
                <td>[[minimum]]:</td>
			    <td>{co_minimum}</td>
			    <td>{no2_minimum}</td>
			    <td>{temperature_minimum}</td>
			    <td>{humidity_minimum}</td>
            </tr>
        </table><br>
	</div>
    <table>
        <tr>
			<th>[[date_time]]</th>
			<th>[[co]] (ppm)</th>
			<th>[[no2]] (ppm)</th>
			<th>[[temperature]] (&deg;C)</th>
			<th>[[humidity]] (%)</th>
        </tr>
		{+tableRow}
		<tr>
			<td class="time">{t}</td>
			<td>{co}{coOutlier}</td>
			<td>{no2}{no2Outlier}</td>
			<td>{temperature}{temperatureOutlier}</td>
			<td>{humidity}{humidityOutlier}</td>
		</tr>
		{-tableRow}
	</table>
	{errormessage}
</div>